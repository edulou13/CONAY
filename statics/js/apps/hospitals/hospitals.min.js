/*!
* auhtor: Luis Eduardo Miranda Barja
* (C) 2015 - mbarjaedu13@gmail.com
*/
$(function(){$(".manager-menu, .health-sub").addClass("active"),$.each($("#custom .del"),function(){$(this).on({click:function(t){t.preventDefault();var n=$(this).data("key"),e=$(this);swal({title:"Está seguro?",text:n.nombre+", será inhabilitado!",type:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonClass:"btn-danger",confirmButtonText:"Inhabilitar",closeOnConfirm:!1},function(){$.post("/centros_salud/eliminar_establecimiento",data={_xsrf:getCookie("_xsrf"),id_cen:n.id},function(t){0==t&&(e.closest("tr").find(".activo").html("Inhabilitado").end().find(".comunidades").html("0").end().find(".prestaciones").html("0").end().end().remove(),swal({title:"Inhabilitado",text:'El establecimiento de salud "'+n.nombre+'", fué inhabilitado.',type:"success",confirmButtonText:"Continuar"}))})})}})});var t=$(".breadcrumb").data("key");$("#add").on({click:function(n){n.preventDefault(),location.href="/centros_salud/nuevo_establecimiento?id_com="+t.com}}),$(".delete").on({click:function(n){n.preventDefault(),swal({title:"Está seguro?",text:t.str+", será inhabilitado!",type:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonClass:"btn-danger",confirmButtonText:"Inhabilitar",closeOnConfirm:!1},function(){$.post("/comunidades/elimininar_comunidad",data={_xsrf:getCookie("_xsrf"),id_com:t.com},function(n){n||($(".status").text("Inhabilitado"),$("#add, .delete").remove(),swal({title:"Inhabilitado",text:'La comunidad "'+t.str+'", fué inhabilitado.',type:"success",confirmButtonText:"Continuar"}))})})}}),$(".networks").on({click:function(t){t.preventDefault(),location.href="/redes_salud/gestion"}}),$(".net").on({click:function(n){n.preventDefault(),location.href="/municipios/gestion?id_red="+t.red}}),$(".back").on({click:function(n){n.preventDefault(),location.href="/comunidades/gestion?id_mup="+t.mup}}),$(".edit").on({click:function(n){n.preventDefault(),location.href="/comunidades/modificar_comunidad?id_com="+t.com}}),$("#custom").customPaginator()});