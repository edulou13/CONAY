/*!
* auhtor: Luis Eduardo Miranda Barja
* (C) 2015 - mbarjaedu13@gmail.com
*/
$(function(){$(".manager-menu, .capability-sub").addClass("active"),$(".back").on({click:function(e){e.preventDefault(),location.href="/prestaciones/gestion"}});var e=$("#inputNombre").val(),t=$("button[type=submit]"),o=$("#del");o.on({click:function(e){e.preventDefault(),t.disable().hide(),o.disable().hide(),$.post("/prestaciones/eliminar_prestacion",data={_xsrf:getCookie("_xsrf"),id_pst:$("input[name=id_pst]").val()},function(e){e?(t.enable().show(),o.enable().show()):location.href="/prestaciones/gestion"})}}),$("form").on({submit:function(i){i.preventDefault(),i.stopPropagation();var n=$(this);t.disable().hide(),o.disable().hide(),$.post("/prestaciones/modificar_prestacion",data=n.form2Dict(),function(i){i?location.href="/prestaciones/gestion":(swal({title:"Error!",text:data.nombre+", est√° registrado. Use otro nombre.",type:"error",confirmButtonText:"Continuar"}),t.enable().show(),o.enable().show(),$("#inputNombre").val(e).focus())})}})});