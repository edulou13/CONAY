/*!
* auhtor: Luis Eduardo Miranda Barja
* (C) 2015 - mbarjaedu13@gmail.com
*/
$(function(){var e=navigator.userAgent.toLowerCase(),r={_check:function(r){var s=new RegExp(r,"i");return s.test(e)},_version:function(r){var s=e.match(new RegExp(r+"[\\/\\s](\\d+)","i"));return null!=s&&2==s.length?parseInt(s[1]):-1},_name_version:function(e,s){return{app:e,ver:r._version(s)}},is_mobile:function(){var e=r._check,s=e("android"),a=e("blackberry"),n=e("iphone|ipad|ipod"),t=e("opera mini"),o=e("iemobile");return s||a||n||t||o},is_desktop:function(){var e=r._check,s=e("firefox"),a=e("trident"),n=e("chrome"),t=e("safari"),o=e("opr");return r.is_mobile()?null:!s||a||n?s||!a||n?s||a||!n||o?s||a||n||!t?s||a||!o?null:r._name_version("Opera","opr"):r._name_version("Safari","safari"):r._name_version("Chrome","chrome"):r._name_version("Trident","trident"):r._name_version("Firefox","firefox")}};oBrowser=r.is_desktop(),console.log(oBrowser),getCookie=function(e){var r=document.cookie.match("\\b"+e+"=([^;]*)\\b");return r?r[1]:void 0};var s={login:/^(?:[^\s]{6,12})$/,passwd:/^(?=[^\t\n\v\f\r ]*?[A-Z])(?=[^\t\n\v\f\r ]*?[a-z])(?=[^\t\n\v\f\r ]*?[0-9])[^\t\n\v\f\r ]{6,24}$/,ci:/^(?:(?:[1-9][0-9]{5,7})?|(?:[1-9][0-9]{10})?|(?:[1-9][0-9]{5,6}[A-Z]))$/i,p_names:/^(?:(?:\b[A-ZÁÉÍÓÚÄËÏÖÜÑ](?:'[A-Z])?[a-záéíóúäëïöüñ]+ ?){1,4})$/i,p_lastnames:/^(?:(?:\b(?: ?[Dd]el? ?)?(?: ?La ?)?(?: ?v[ao]n ?)?\b[A-ZÁÉÍÓÚÄËÏÖÜÑ](?:'[A-Z])?[a-záéíóúäëïöüñ]+ ?){1,2})$/i,profession:/^(?:(?:\b[A-ZÁÉÍÓÚÄËÏÖÜÑ][a-záéíóúäëïöüñ]+(?:(?:\.? [A-Z]+)?(?: ?[Dd]el?)?(?: ?[Ll][ao]s?)?(?: ?en)?)? ?)+)$/i,date:/^(?:((0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/((19|20)[0-9]{2})))$/,time:/^(?:(?:[0-1][0-9]|2[0-3])(?::(?:[0-5][0-9])){1,2})$/,cell_phone:/^(?:[6-7][0-9]{7})$/,g_names:/^(?:(?:[A-ZÁÉÍÓÚÑ](?:'[A-Z])?[a-záéíóúäëïöüñ]+(?:(?:\.? ?[1-9][0-9]*)?(?: ?[Ee]n)?(?: ?[Dd]el?)?(?: ?[Ll][ao]s?)?)? ?)+)$/i,neonato_weight:/^(?:[1-5]\b(?:\.?[0-9]{1,3})?)$/,msg_number:/^(?:[1-9][0-9]?){1}$/,msg_content:/^(?:(?:[^\s] ?){2,140})$/i,comments:/^(?:[^\s]\s?){2,}$/i},a=function(e){var r=e.prop("class").match(/(?:(?:(?: ?[a-z]-? ?)+)?(?:only_((?:[a-z]_?)+))(?:(?: ?[a-z]-? ?)+)?)/);return null!=r?r[1]:null},n=function(e){var r=!0,n=null==e?$('form :input[class*="only_"]:enabled'):[];if(c_alert=function(e,r){return null!=e.val().match(t)&&0==e.closest(".form-group").hasClass("fail-check")?e.closest(".form-group").removeClass("has-error").addClass("has-success").find(".form-control-feedback").removeClass("fa-times").addClass("fa fa-check"):e.prop("required")||0!=e.val().length?(r=1==r?!1:r,e.closest(".form-group").removeClass("has-success").addClass("has-error").find(".form-control-feedback").removeClass("fa-check").addClass("fa fa-times")):e.closest(".form-group").removeClass("has-error").removeClass("has-success").find(".form-control-feedback").removeClass("fa-times").addClass("fa fa-check"),r},null!=e){var t=s[a(e)];r=c_alert(e,r)}else for(var o=0;o<n.length;o++){var e=$(n[o]),t=s[a(e)];r=c_alert(e,r)}return r};check_inputs=function(){for(var e=n(),r=$("form select:enabled"),s=0;s<r.length;s++){var a=$(r[s]);-1==+a.val()&&a.prop("required")?(a.closest(".form-group").removeClass("has-success").addClass("has-error"),e=1==e?!1:e):a.closest(".form-group").removeClass("has-error").addClass("has-success")}return e},$("form").on("click focus keyup blur",':input[class*="only_"]:enabled',function(e){var r=$(this);if("focusout"==e.type&&r.val(r.val().trim()),"undefined"==$.type(r.data("pattern"))){var t=s[a(r)];r.data("pattern",t)}else n(r)}).on("change","select:enabled",function(e){var r=$(this);"select-one"==r.prop("type")&&(-1==+r.val()&&r.prop("required")?r.closest(".form-group").removeClass("has-success").addClass("has-error"):r.closest(".form-group").removeClass("has-error").addClass("has-success"))}).find("button[type=submit]").on({click:function(e){e.preventDefault(),e.stopPropagation();var r=$("form"),s=check_inputs(),a=$(this);s?(a.disable(),r.submit()):r.find(":input:enabled").each(function(){var e=$(this);e.closest(".form-group").hasClass("has-error")&&e.tooltip({placement:"bottom",title:"Corrija éste campo..!"}).tooltip("show").on({click:function(e){$(this).tooltip("destroy")}})})}}),String.prototype.format=function(){for(var e=this,r=0;r<arguments.length;r++){var s=new RegExp("\\{"+r+"\\}","gi");e=e.replace(s,arguments[r])}return e},$.fn.enable=function(e){var r=$(this);return arguments.length&&!e?1==r.size()?r.attr("disabled","disabled").find(":input").attr("disabled","disabled").end():$.each(r,function(){$(this).attr("disabled","disabled").find(":input").attr("disabled","disabled").end()}):1==r.size()?r.removeAttr("disabled").find(":input").removeAttr("disabled").end():$.each(r,function(){$(this).removeAttr("disabled").find(":input").removeAttr("disabled")}),r},$.fn.disable=function(){return this.enable(!1),this},$.fn.form2Dict=function(e){if(arguments.length&&e)return this.serializeArray();var r=new Object;return $.each(this.serializeArray(),function(e,s){r[s.name]=s.value}),r}});